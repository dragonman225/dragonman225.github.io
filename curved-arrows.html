<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-152513368-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-152513368-1');
</script>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F02d9fd71-766f-4198-9511-c3cfa0224657%2F25148955.png?table=collection&amp;id=7594986e-09be-4821-a107-14c738674417">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>How to Draw S-Curved Arrows Between Boxes / Rectangles&nbsp;|&nbsp;Alexander&#39;s Garden</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="How to Draw S-Curved Arrows Between Boxes / Rectangles">
  
    <meta name="description" content="When I was building the spatial “tool for thought”, Jade, one frequently requested feature was drawing arrows between blocks, so we could make mind maps, flowcharts, etc. Here’s how I made it.">
    <meta property="og:description" content="When I was building the spatial “tool for thought”, Jade, one frequently requested feature was drawing arrows between blocks, so we could make mind maps, flowcharts, etc. Here’s how I made it.">
  
  
    <meta property="og:image" content="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe95da4f3-fd4b-41e6-bf74-404d74def1e4%2FCurved_Arrows_v0.1.0_Icon_without_Why_transparent.png?table=block&amp;id=b1c40664-f2c3-41f1-b37e-a55676cff06b">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F02d9fd71-766f-4198-9511-c3cfa0224657%2F25148955.png?table=collection&amp;id=7594986e-09be-4821-a107-14c738674417"></span>&nbsp;
      
      <span>Home</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="notablog.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📝&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Notablog</span>
        </div>
      </a>
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="jade.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F93bed342-3c61-4ff4-b1bf-83dd6fa09fdd%2Ficon_512w.png?table=block&amp;id=65166b73-3337-4374-b13b-040ca1599593"></span>&nbsp;
          
          <span>Jade</span>
        </div>
      </a>
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="now.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;🎯&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Now</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="library.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;📚&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>Library</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;👣&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>About</span>
        </div>
      </a>
    
  
    
  
</nav>
  <header class="Header">
    
    <div class="Header__Spacer Header__Spacer--NoCover">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe95da4f3-fd4b-41e6-bf74-404d74def1e4%2FCurved_Arrows_v0.1.0_Icon_without_Why_transparent.png?table=block&amp;id=b1c40664-f2c3-41f1-b37e-a55676cff06b"></span>
      </div>
    
    <h1 class="Header__Title">How to Draw S-Curved Arrows Between Boxes / Rectangles</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Sun, Dec 19, 2021</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--green">
            <a href="tag/🌲 Flourishing.html">🌲 Flourishing</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--brown">
            <a href="tag/Article.html">Article</a>
          </span>
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--blue">
            <a href="tag/Engineering.html">Engineering</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/b1c40664f2c341f1b37ea55676cff06b" class="PageRoot"><ul id="https://www.notion.so/3af002a566ff476281d3b7814018f6f7" class="ColorfulBlock ColorfulBlock--ColorGray TableOfContents"><li class="TableOfContents__Item"><a href="#https://www.notion.so/f18369b8045b47139effb75b680871da"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Draw an S-Curve</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7c0828929be5419683d439025591a386"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Choose the Best Curve</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/f6f375cfe7eb48f48d4e624e577c9f0f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Get Control Points</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/3bf6176aa72b4b499cc3446be2620a43"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Get Arrow Angles</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/0f78c4e86d8b4e42b3af6df6e94f990f"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Draw </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">Bézier curve</mark></span><span class="SemanticString"> with React and SVG</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/a53daa50102e41ca8ff34cc3c9948e78"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Demo</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/7f5a7a8bce2740a3ba1d2a5a518b9055"><div style="margin-left:0px"><span class="SemanticStringArray"><span class="SemanticString">Misc</span></span></div></a></li><li class="TableOfContents__Item"><a href="#https://www.notion.so/ed0ab2ee7b8b470ca6ffbc4a3e5c6d49"><div style="margin-left:24px"><span class="SemanticStringArray"><span class="SemanticString">Updates</span></span></div></a></li></ul><div id="https://www.notion.so/89ebc879844848588c7048c332b78a2b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/a21022a783a244c0b708949e6415fd62" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">An S-curved arrow is a smooth curve that connects two boxes (or rectangles) like this:</span></span></p></div><div id="https://www.notion.so/8770a9471c5f42bc8a731bd086f826be" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe5ea93a8-8190-432d-b869-2706456fcaee%2FUntitled.png?width=640&amp;table=block&amp;id=8770a947-1c5f-42bc-8a73-1bd086f826be"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe5ea93a8-8190-432d-b869-2706456fcaee%2FUntitled.png?width=640&amp;table=block&amp;id=8770a947-1c5f-42bc-8a73-1bd086f826be" style="width:640px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/f18369b8045b47139effb75b680871da" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/f18369b8045b47139effb75b680871da"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Draw an S-Curve</span></span></h2><div id="https://www.notion.so/efe8e84ac4e14b18ad58f6076158b10b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">To draw the curve, one thing that came to my mind was “</span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://javascript.info/bezier-curve">Bézier curve</a></strong></mark></span><span class="SemanticString">”. Its idea is to use </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString"> to add curvature to a line. A </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control point</strong></mark></span><span class="SemanticString"> bends the line once, so to bend it twice, we need two </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/a0f6d73b638f41ac80f95f7910d496f3" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc440d399-a2f8-4ed4-90be-e17aa5b79831%2FUntitled.png?width=640&amp;table=block&amp;id=a0f6d73b-638f-41ac-80f9-5f7910d496f3"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc440d399-a2f8-4ed4-90be-e17aa5b79831%2FUntitled.png?width=640&amp;table=block&amp;id=a0f6d73b-638f-41ac-80f9-5f7910d496f3" style="width:640px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/1f394db15413441e9cff9840f48f2916" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Like the above picture. Point 1 and 4 represent the start and the end of the curve, while point 2 and 3 are </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen">control points</mark></strong></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/d69fbbb33e494e2eb3553ff396d9783e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The next question is where the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString"> should be? Or how should they be generated?</span></span></p></div><div id="https://www.notion.so/7918c5bf0e554e3eb3504220291e0dbc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Since the start and the end of the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">curve</strong></mark></span><span class="SemanticString"> attach to the boxes, how about setting the start direction and the end direction to be perpendicular to the sides of the boxes?</span></span></p></div><div id="https://www.notion.so/1e822dd8430c421fa10f6e20f87e2829" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb218f8d1-6097-45ed-a98f-136144b8be2f%2FUntitled.png?width=640&amp;table=block&amp;id=1e822dd8-430c-421f-a10f-6e20f87e2829"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb218f8d1-6097-45ed-a98f-136144b8be2f%2FUntitled.png?width=640&amp;table=block&amp;id=1e822dd8-430c-421f-a10f-6e20f87e2829" style="width:640px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/a7164d1bffa64a55b386db8db3f4a1b2" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Then, by extending the green bars, we can get to a point where two </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString"> are on the same vertical line.</span></span></p></div><div id="https://www.notion.so/469273525b094ee1942b91fcee59ba01" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F09d9b001-c85b-469e-b843-49359614db06%2FUntitled.png?width=639&amp;table=block&amp;id=46927352-5b09-4ee1-942b-91fcee59ba01"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F09d9b001-c85b-469e-b843-49359614db06%2FUntitled.png?width=639&amp;table=block&amp;id=46927352-5b09-4ee1-942b-91fcee59ba01" style="width:639px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/f5922502a79843438f699c1ad236eddc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Now we get formulas. If the </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">start point (1)</strong></span><span class="SemanticString"> is </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="(x0, y0)"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x0, y0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></span><span class="SemanticString">, the </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">end point (4)</strong></span><span class="SemanticString"> is </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="(x1, y1)"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x1, y1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></span><span class="SemanticString">, then the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control point (2)</strong></mark></span><span class="SemanticString"> for the </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">start point (1)</strong></span><span class="SemanticString"> is </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="(\frac{x1+x0}{2}, y0)"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mn>1</mn><mo>+</mo><mi>x</mi><mn>0</mn></mrow><mn>2</mn></mfrac><mo separator="true">,</mo><mi>y</mi><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\frac{x1+x0}{2}, y0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></span><span class="SemanticString">, the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control point (3)</strong></mark></span><span class="SemanticString"> for the </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">end point (4)</strong></span><span class="SemanticString"> is </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="(\frac{x1+x0}{2}, y1)"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mn>1</mn><mo>+</mo><mi>x</mi><mn>0</mn></mrow><mn>2</mn></mfrac><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\frac{x1+x0}{2}, y1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mord mtight">1</span><span class="mbin mtight">+</span><span class="mord mathdefault mtight">x</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></span><span class="SemanticString">.</span></span></p></div><h2 id="https://www.notion.so/7c0828929be5419683d439025591a386" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/7c0828929be5419683d439025591a386"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Choose the Best Curve</span></span></h2><div id="https://www.notion.so/57cfd74fe0ff4c08a19917d5f58fd2a5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">We haven’t talked about where do the </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">start point (1)</strong></span><span class="SemanticString">, </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="(x0, y0)"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>0</mn><mo separator="true">,</mo><mi>y</mi><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x0, y0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span></span><span class="SemanticString">, and the </span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">end point (4)</strong></span><span class="SemanticString">, </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Math" data-latex="(x1, y1)"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mn>1</mn><mo separator="true">,</mo><mi>y</mi><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x1, y1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></span><span class="SemanticString"> come from, but from previous drawings you might have been wondering if they’re </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPink"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">at the middle of the sides of the boxes</strong></mark></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/e6c73d171eb24e1fb9006d13cc708377" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Yeah, they are. To make arrows look clean when there’re many of them, we only allow them to start or end </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPink"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">at the middle of the sides of the boxes</strong></mark></span><span class="SemanticString">. This also means we’ve narrow down the possibilities to 16 combinations to choose from.</span></span></p></div><div id="https://www.notion.so/bfd35bbd76f14b37a42dd57b87599f00" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F35f5fc73-03f8-45dd-bb02-f550d9d07e8f%2FUntitled.png?width=390&amp;table=block&amp;id=bfd35bbd-76f1-4b37-a42d-d57b87599f00"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F35f5fc73-03f8-45dd-bb02-f550d9d07e8f%2FUntitled.png?width=390&amp;table=block&amp;id=bfd35bbd-76f1-4b37-a42d-d57b87599f00" style="width:390px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/1267a2d13c0744b5971358e3f0e7ee70" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">How to choose? Let’s consider this case:</span></span></p></div><div id="https://www.notion.so/ae9d65677b924b059050504c70817322" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe6df97dd-8b98-426d-9775-9f6b154f6bd7%2FUntitled.png?width=390&amp;table=block&amp;id=ae9d6567-7b92-4b05-9050-504c70817322"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe6df97dd-8b98-426d-9775-9f6b154f6bd7%2FUntitled.png?width=390&amp;table=block&amp;id=ae9d6567-7b92-4b05-9050-504c70817322" style="width:390px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/3edaa860475a43e7a9f296a8169542ba" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">It seems that the one with the shortest distance is the best choice.</span></span></p></div><div id="https://www.notion.so/12c61d253de54c16bf4dbc31077b1aea" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/65a1dece56534242b82c404b5549fbb6" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">There’re some problems though.</span></span></p></div><div id="https://www.notion.so/1df8ffa8d9034631a87f4a15c91c37ac" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff21b2a1e-1a42-45b6-8e74-7cdbfe8bb3a9%2FUntitled.png?width=635&amp;table=block&amp;id=1df8ffa8-d903-4631-a87f-4a15c91c37ac"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff21b2a1e-1a42-45b6-8e74-7cdbfe8bb3a9%2FUntitled.png?width=635&amp;table=block&amp;id=1df8ffa8-d903-4631-a87f-4a15c91c37ac" style="width:635px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><ol class="NumberedListWrapper"><li id="https://www.notion.so/b44cf86917694617addd2ad0f915a68a" class="NumberedList" value="1"><span class="SemanticStringArray"><span class="SemanticString">If the boxes are close, the arrow would be barely visible.</span></span></li><li id="https://www.notion.so/77f6be7b55754b6097890bfa77a5a55b" class="NumberedList" value="2"><span class="SemanticStringArray"><span class="SemanticString">If the boxes overlap, the arrow may be hidden behind the boxes.</span></span></li></ol><div id="https://www.notion.so/bddbf66330744a8d874de68e787eec9d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/a1cbeeb092034cb48f26687a82dd7d7c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The solution is to add some rules to abandon </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="curved-arrows.html#https://www.notion.so/e6c73d171eb24e1fb9006d13cc708377">combinations</a></span><span class="SemanticString"> that are undesired.</span></span></p></div><div id="https://www.notion.so/74eecc44423949a6879a2fcc7521259e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">This is an open question which can lead to many creative ideas about what is undesired and how to detect them, but for now, I designed and implemented a simple one that prevents the cases shown above.</span></span></p></div><div id="https://www.notion.so/476990fda8554d9187e3443a8d9266da" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/ff06cd0f90d344d49843129dfb511f38" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F70ebe188-6008-4b5b-9ac1-da3505451fa5%2FUntitled.png?width=657&amp;table=block&amp;id=ff06cd0f-90d3-44d4-9843-129dfb511f38"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F70ebe188-6008-4b5b-9ac1-da3505451fa5%2FUntitled.png?width=657&amp;table=block&amp;id=ff06cd0f-90d3-44d4-9843-129dfb511f38" style="width:657px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/a7e5684d58ba48c4943052517068c123" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I add keep-out zones to the boxes, and test if the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">end point</strong></mark></span><span class="SemanticString"> is in the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorRed"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">keep-out zone of the start box</strong></mark></span><span class="SemanticString">, or if the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPurple"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">start point</strong></mark></span><span class="SemanticString"> is in the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorPurple"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">keep-out zone of the end box</strong></mark></span><span class="SemanticString">, if a point does, combinations having that point would be abandoned.</span></span></p></div><div id="https://www.notion.so/b91f0c6a3503425a90176c72b4d1e40e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">There are still some corner cases though, but in </span><span class="SemanticString"><span class="SemanticString__Fragment SemanticString__Fragment--Resource"><a href="jade.html"><span class="SemanticStringArray"><span class="SemanticString">Jade</span></span></a></span></span><span class="SemanticString">‘s use cases, blocks connected with arrows usually don’t overlap or get too close, so I’m going to leave them for you to figure out and </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/dragonman225/curved-arrows/pulls">make improvements</a></span><span class="SemanticString"> if those are your serious use cases!</span></span></p></div><div id="https://www.notion.so/37d3eefb7b9242caada9e4e29b4cabb3" class="ColumnList"><div id="https://www.notion.so/1eb8455e4a8444c6af74767df35cf29d" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/34fc5596821f4fac9b7b911b7ff2359a" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9c234deb-8988-4625-b300-835add26a05a%2FUntitled.png?width=276&amp;table=block&amp;id=34fc5596-821f-4fac-9b7b-911b7ff2359a"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F9c234deb-8988-4625-b300-835add26a05a%2FUntitled.png?width=276&amp;table=block&amp;id=34fc5596-821f-4fac-9b7b-911b7ff2359a" style="width:276px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div><div id="https://www.notion.so/04070421fffa4346b35b5784e792be7d" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/ce51f815c6504f618b25c65b14078d0c" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe4d774e9-b591-4008-ba9d-c0f79ea9edb3%2FUntitled.png?width=285&amp;table=block&amp;id=ce51f815-c650-4f61-8b25-c65b14078d0c"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fe4d774e9-b591-4008-ba9d-c0f79ea9edb3%2FUntitled.png?width=285&amp;table=block&amp;id=ce51f815-c650-4f61-8b25-c65b14078d0c" style="width:285px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div></div><h2 id="https://www.notion.so/f6f375cfe7eb48f48d4e624e577c9f0f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/f6f375cfe7eb48f48d4e624e577c9f0f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Get Control Points</span></span></h2><div id="https://www.notion.so/e852afb8412d4bc3be586f01702b60b4" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">I’ve mentioned </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="curved-arrows.html#https://www.notion.so/a7164d1bffa64a55b386db8db3f4a1b2">a way</a></span><span class="SemanticString"> to get </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString"> for two boxes, but that is not the only case we would encounter in the real world.</span></span></p></div><div id="https://www.notion.so/23a6346e643b45ecb901f4bf4728b6a6" class="ColumnList"><div id="https://www.notion.so/190e6532c4084c7888796ac521352f3c" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/ef775bcd2e0d4a8b82a32294cac5169b" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F446404d2-da83-4561-b3a5-ef49307e676d%2FUntitled.png?width=293&amp;table=block&amp;id=ef775bcd-2e0d-4a8b-82a3-2294cac5169b"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F446404d2-da83-4561-b3a5-ef49307e676d%2FUntitled.png?width=293&amp;table=block&amp;id=ef775bcd-2e0d-4a8b-82a3-2294cac5169b" style="width:293px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div><div id="https://www.notion.so/a8cdef2c213549aa98e7b5b1c931bca9" class="Column" style="width:calc((100% - var(--column-spacing) * 1) * 0.5)"><div id="https://www.notion.so/60663ec33f1c4322b10bbc5dfaeed0eb" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F15bfecea-2338-4411-8326-a6e690477f30%2FUntitled.png?width=258&amp;table=block&amp;id=60663ec3-3f1c-4322-b10b-bc5dfaeed0eb"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F15bfecea-2338-4411-8326-a6e690477f30%2FUntitled.png?width=258&amp;table=block&amp;id=60663ec3-3f1c-4322-b10b-bc5dfaeed0eb" style="width:258px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div></div></div><div id="https://www.notion.so/e4f6215a958e412faa09e6ab66801753" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">The rule of thumb is that the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString"> must pull the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">curve</strong></mark></span><span class="SemanticString"> out of a box, not into a box.</span></span></p></div><div id="https://www.notion.so/6432902a3b4a4acca90d8c8bfe8b1f99" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffb0c1a51-51de-4024-a835-589860465790%2FUntitled.png?width=258&amp;table=block&amp;id=6432902a-3b4a-4acc-a90d-8c8bfe8b1f99"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ffb0c1a51-51de-4024-a835-589860465790%2FUntitled.png?width=258&amp;table=block&amp;id=6432902a-3b4a-4acc-a90d-8c8bfe8b1f99" style="width:258px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/c75f6342231842dfa5d05d2f2ad212ec" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">And the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorGreen"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">control points</strong></mark></span><span class="SemanticString"> must be far away enough from their target points.</span></span></p></div><div id="https://www.notion.so/685178925388427e85abb3b4fa46ead1" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb81b5974-28b7-4184-943d-c23f157a9d8a%2FUntitled.png?width=279&amp;table=block&amp;id=68517892-5388-427e-85ab-b3b4fa46ead1"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fb81b5974-28b7-4184-943d-c23f157a9d8a%2FUntitled.png?width=279&amp;table=block&amp;id=68517892-5388-427e-85ab-b3b4fa46ead1" style="width:279px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/3bf6176aa72b4b499cc3446be2620a43" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/3bf6176aa72b4b499cc3446be2620a43"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Get Arrow Angles</span></span></h2><div id="https://www.notion.so/9897620b848d4a49bbae2b94187baba5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">We also need to know the entering angles of the start point and the end point of the </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">curve</strong></mark></span><span class="SemanticString"> to draw arrow heads.</span></span></p></div><div id="https://www.notion.so/4162249f22504be995c6de9d5625bb9f" class="Image Image--PageWidth"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F19c09f5d-20e9-468e-b589-b789ccdb7b32%2FUntitled.png?width=982&amp;table=block&amp;id=4162249f-2250-4be9-95c6-de9d5625bb9f"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F19c09f5d-20e9-468e-b589-b789ccdb7b32%2FUntitled.png?width=982&amp;table=block&amp;id=4162249f-2250-4be9-95c6-de9d5625bb9f" style="width:100%"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><h2 id="https://www.notion.so/0f78c4e86d8b4e42b3af6df6e94f990f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/0f78c4e86d8b4e42b3af6df6e94f990f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Draw </span><span class="SemanticString"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">Bézier curve</mark></span><span class="SemanticString"> with React and SVG</span></span></h2><div id="https://www.notion.so/8f5114d83cdf46e8a18aceb8a3ca676b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Now that we’ve get all parameters of an arrow, we can draw it with SVG using </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">&lt;path&gt;</code></span><span class="SemanticString"> and </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#curve_commands">the </a></span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#curve_commands"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"><mark class="SemanticString__Fragment SemanticString__Fragment--HighlightedColor SemanticString__Fragment--ColorBlue">Bézier curve</mark></strong></a></span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Paths#curve_commands"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> command</strong></a></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/6692e4836b0142eaa598e254a8c32c27" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Here’s an example React component.</span></span></p></div><pre id="https://www.notion.so/99a73370798c45ee829a2c2b90f0f839" class="Code Code--NoWrap"><code><span class="SemanticStringArray"><span class="SemanticString"><span><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getArrow <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'curved-arrows'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">Arrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span>
  <span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">200</span> <span class="token punctuation">}</span>
  <span class="token keyword">const</span> arrowHeadSize <span class="token operator">=</span> <span class="token number">9</span>
  <span class="token keyword">const</span> color <span class="token operator">=</span> <span class="token string">'black'</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> c1x<span class="token punctuation">,</span> c1y<span class="token punctuation">,</span> c2x<span class="token punctuation">,</span> c2y<span class="token punctuation">,</span> ex<span class="token punctuation">,</span> ey<span class="token punctuation">,</span> ae<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getArrow</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p1<span class="token punctuation">.</span>y<span class="token punctuation">,</span> p2<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p2<span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">padEnd</span><span class="token operator">:</span> arrowHeadSize<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>svg
      width<span class="token operator">=</span><span class="token string">"100%"</span>
      height<span class="token operator">=</span><span class="token string">"100%"</span>
      xmlns<span class="token operator">=</span><span class="token string">"http://www.w3.org/2000/svg"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>path
        d<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">M </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sx<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sy<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> C </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c1x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c1y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c2x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>c2y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span>
        stroke<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span>
        strokeWidth<span class="token operator">=</span><span class="token punctuation">{</span>arrowHeadSize <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">}</span>
        fill<span class="token operator">=</span><span class="token string">"none"</span>
      <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>polygon
        points<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">0,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token operator">-</span>arrowHeadSize<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arrowHeadSize <span class="token operator">*</span>
          <span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,0, 0,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arrowHeadSize<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span>
        transform<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) rotate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ae<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span>
        fill<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>svg<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></span></span></span></code></pre><h2 id="https://www.notion.so/a53daa50102e41ca8ff34cc3c9948e78" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/a53daa50102e41ca8ff34cc3c9948e78"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Demo</span></span></h2><div id="https://www.notion.so/016ac4e2102841309b7eadf0ec66e5a6" class="Image Image--Normal"><figure><a href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F24d0fa5c-8c8c-4aba-8d12-c4e574c7d266%2Fdemo_animation.gif?width=570&amp;table=block&amp;id=016ac4e2-1028-4130-9b7e-adf0ec66e5a6"><img src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F24d0fa5c-8c8c-4aba-8d12-c4e574c7d266%2Fdemo_animation.gif?width=570&amp;table=block&amp;id=016ac4e2-1028-4130-9b7e-adf0ec66e5a6" style="width:570px"/></a><figcaption><span class="SemanticStringArray"></span></figcaption></figure></div><div id="https://www.notion.so/db6f1c6e88a0451ba037587b12d3e146" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Visualizing how it works ↓ You can also play </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://dragonman225.js.org/p/curved-arrows/">here</a></span><span class="SemanticString">.</span></span></p></div><div id="https://www.notion.so/e04c0bb949d64be7afa3d6fd90fadf8b" class="Video"><div class="Video__Content"><video width="576" controls=""><source src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fec6eae78-0b71-43bc-8fe1-547e8423bb68%2FCurved_Arrows_v0.1.0_Demo__Why.mp4?table=block&amp;id=e04c0bb9-49d6-4be7-afa3-d6fd90fadf8b"/></video></div><p class="Video__Caption"><span class="SemanticStringArray"></span></p></div><h2 id="https://www.notion.so/7f5a7a8bce2740a3ba1d2a5a518b9055" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--2"><a class="Anchor" href="#https://www.notion.so/7f5a7a8bce2740a3ba1d2a5a518b9055"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Misc</span></span></h2><ul class="BulletedListWrapper"><li id="https://www.notion.so/ee70db45778d42db84ba2900fe3579e8" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">I’ve made it an NPM package </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://www.npmjs.com/package/curved-arrows"><code class="SemanticString__Fragment SemanticString__Fragment--Code">curved-arrows</code></a></span><span class="SemanticString">, which you can install with </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">npm i curved-arrows</code></span><span class="SemanticString"> or </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">yarn add curved-arrows</code></span><span class="SemanticString">.</span></span></li><li id="https://www.notion.so/9d26ee02db604fd9b4a0689e3f9b7076" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">The source code is on Github </span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://github.com/dragonman225/curved-arrows">@dragonman225/curved-arrows</a></span><span class="SemanticString">.</span></span></li><li id="https://www.notion.so/5a3dfb65656e439d9bcd924490db7440" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString">Author:</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold"> Alexander Wang</strong></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://twitter.com/dragonman225">@dragonman225</a></span><span class="SemanticString">)</span></span></li></ul><h3 id="https://www.notion.so/ed0ab2ee7b8b470ca6ffbc4a3e5c6d49" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/ed0ab2ee7b8b470ca6ffbc4a3e5c6d49"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Updates</span></span></h3><ul class="BulletedListWrapper"><li id="https://www.notion.so/c161a5574b1f4516a70ff413f3bc26c6" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://twitter.com/dragonman225/status/1472998315805777920">My Twitter post</a></span></span></li><li id="https://www.notion.so/e131831531384e6a99e736062e01fed4" class="BulletedList"><span class="SemanticStringArray"><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://news.ycombinator.com/item?id=29652139">Discussions on Hacker News</a></span><span class="SemanticString"> (</span><span class="SemanticString"><a class="SemanticString__Fragment SemanticString__Fragment--Link" href="https://hnews.xyz/item/29652139">alternative page</a></span><span class="SemanticString">)</span></span></li></ul></article>
  <script src="https://utteranc.es/client.js" repo="dragonman225/dragonman225.github.io"
    issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script>
  <footer class="Footer">
  <div>&copy; Alexander&#39;s Garden 2019-2021</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>