(this["webpackJsonpcurved-arrows-example"]=this["webpackJsonpcurved-arrows-example"]||[]).push([[0],{44:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),c=n(17),r=n.n(c),i=(n(44),n(2)),s=n(1),l=n(27),d=n(31);function h(t,e){return{x:t.x-e,y:t.y-e,w:t.w+2*e,h:t.h+2*e}}function u(t,e){return t.x>e.x&&t.x<e.x+e.w&&t.y>e.y&&t.y<e.y+e.h}var x=n(26),w=n(8),p=Object(x.a)({arrow:{position:"absolute",top:0,right:0,pointerEvents:"none",overflow:"visible"}});function v(t){var e=t.arrowDescriptor,n=t.color,o=void 0===n?"black":n,a=t.zIndex,c=void 0===a?0:a,r=Object(s.a)(e,9),i=r[0],l=r[1],d=r[2],h=r[3],u=r[4],x=r[5],v=r[6],b=r[7],y=r[8];return Object(w.jsxs)("svg",{className:p.arrow,style:{zIndex:c},width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[Object(w.jsx)("path",{d:"M ".concat(i," ").concat(l," C ").concat(d," ").concat(h,", ").concat(u," ").concat(x,", ").concat(v," ").concat(b),stroke:o,strokeWidth:4.5,fill:"none"}),Object(w.jsx)("polygon",{points:"0,".concat(-9," ").concat(18,",0, 0,").concat(9),transform:"translate(".concat(v,", ").concat(b,") rotate(").concat(y,")"),fill:o})]})}var b,y=Object(x.a)({line:{position:"absolute",top:0,right:0,pointerEvents:"none",overflow:"visible"}});function j(t){var e=t.x1,n=t.y1,o=t.x2,a=t.y2,c=t.color,r=void 0===c?"black":c,i=t.strokeWidth,s=void 0===i?3:i,l=t.zIndex,d=void 0===l?0:l;return Object(w.jsx)("svg",{className:y.line,style:{zIndex:d},width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M ".concat(e," ").concat(n," L ").concat(o," ").concat(a),stroke:r,strokeWidth:s,fill:"none"})})}!function(t){t.PointToPoint="Point to Point",t.BoxToBox="Box to Box"}(b||(b={}));var m=function(){var t,e,n,a,c,r,x,p,y=Object(l.b)({type:{value:b.BoxToBox,options:[b.BoxToBox,b.PointToPoint],label:"Type"},showWhy:{value:!1,label:"Show Why"},showArrow:{value:!0,label:"Show Arrow"},padStart:{value:0,min:-20,max:20,step:1},padEnd:{value:9,min:-20,max:20,step:1},controlPointStretch:{value:50,min:0,max:300},allowedStartSides:Object(l.a)({canStartAtTop:{value:!0,label:"top"},canStartAtLeft:{value:!0,label:"left"},canStartAtBottom:{value:!0,label:"bottom"},canStartAtRight:{value:!0,label:"right"}}),allowedEndSides:Object(l.a)({canEndAtTop:{value:!0,label:"top"},canEndAtLeft:{value:!0,label:"left"},canEndAtBottom:{value:!0,label:"bottom"},canEndAtRight:{value:!0,label:"right"}})}),m=y.type,f=y.showWhy,g=y.showArrow,O=y.padStart,E=y.padEnd,S=y.controlPointStretch,A=y.canStartAtTop,B=y.canStartAtLeft,L=y.canStartAtBottom,T=y.canStartAtRight,k=y.canEndAtTop,P=y.canEndAtLeft,W=y.canEndAtBottom,z=y.canEndAtRight,I=Object(o.useState)({x:window.innerWidth/2-100,y:window.innerHeight/2-50,w:200,h:80}),M=Object(s.a)(I,2),N=M[0],R=M[1];Object(o.useEffect)((function(){function t(){console.log("r"),R((function(t){return Object(i.a)(Object(i.a)({},t),{},{x:window.innerWidth/2-t.w/2,y:window.innerHeight/2-t.h/2})}))}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var C=Object(o.useState)({x:N.x+270,y:N.y+70,w:180,h:80}),D=Object(s.a)(C,2),H=D[0],J=D[1],U=Object(o.useCallback)((function(t){function e(t){J((function(e){return Object(i.a)(Object(i.a)({},e),{},{x:t.clientX-e.w/2,y:t.clientY-e.h/2})}))}0===t.button&&(e(t),window.addEventListener("mousemove",e),window.addEventListener("mouseup",(function t(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)})))}),[]),X=Object(o.useCallback)((function(t){function e(t){J((function(e){return Object(i.a)(Object(i.a)({},e),{},{x:t.touches[0].clientX-e.w/2,y:t.touches[0].clientY-e.h/2})}))}function n(){window.removeEventListener("touchmove",e),window.removeEventListener("touchend",n),window.removeEventListener("touchcancel",n)}t.touches.length>1||(e(t),window.addEventListener("touchmove",e),window.addEventListener("touchend",n),window.addEventListener("touchcancel",n))}),[]),Y=[],q=[];A&&Y.push("top"),B&&Y.push("left"),L&&Y.push("bottom"),T&&Y.push("right"),k&&q.push("top"),P&&q.push("left"),W&&q.push("bottom"),z&&q.push("right");var F={padStart:O,padEnd:E,controlPointStretch:S,allowedStartSides:Y,allowedEndSides:q},G=Object(d.a)(N.x,N.y,H.x,H.y,F),K=Object(d.b)(N.x,N.y,N.w,N.h,H.x,H.y,H.w,H.h,F),Q={x:N.x+N.w/2,y:N.y-2*(null!==(t=F.padStart)&&void 0!==t?t:0)},V={x:N.x+N.w/2,y:N.y+N.h+2*(null!==(e=F.padStart)&&void 0!==e?e:0)},Z={x:N.x-2*(null!==(n=F.padStart)&&void 0!==n?n:0),y:N.y+N.h/2},$={x:N.x+N.w+2*(null!==(a=F.padStart)&&void 0!==a?a:0),y:N.y+N.h/2},_={x:H.x+H.w/2,y:H.y-2*(null!==(c=F.padEnd)&&void 0!==c?c:0)},tt={x:H.x+H.w/2,y:H.y+H.h+2*(null!==(r=F.padEnd)&&void 0!==r?r:0)},et={x:H.x-2*(null!==(x=F.padEnd)&&void 0!==x?x:0),y:H.y+H.h/2},nt={x:H.x+H.w+2*(null!==(p=F.padEnd)&&void 0!==p?p:0),y:H.y+H.h/2},ot=[],at=[];A&&ot.push(Q),T&&ot.push($),L&&ot.push(V),B&&ot.push(Z),k&&at.push(_),z&&at.push(nt),W&&at.push(tt),P&&at.push(et),0===ot.length&&ot.push.apply(ot,[Q,$,V,Z]),0===at.length&&at.push.apply(at,[_,nt,tt,et]);var ct,rt,it=[],st="0-0",lt=1/0;function dt(t,e,n,o){return!(u(t,h(o,15))||u(e,h(n,15)))}for(var ht=0;ht<ot.length;ht++)for(var ut=ot[ht],xt=0;xt<at.length;xt++){var wt=at[xt],pt=(ct=ut,rt=wt,Math.sqrt(Math.pow(ct.x-rt.x,2)+Math.pow(ct.y-rt.y,2))),vt=dt(ut,wt,N,H),bt={id:"".concat(ht,"-").concat(xt),distance:pt,start:ut,end:wt,isUsable:vt};it.push(bt),vt&&pt<lt&&(lt=pt,st=bt.id)}return Object(w.jsxs)("div",{className:"app",onMouseDown:U,onTouchStart:X,children:[m===b.BoxToBox&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"box",style:{transform:"translate(".concat(N.x,"px, ").concat(N.y,"px)"),width:N.w,height:N.h}},"startBox"),Object(w.jsx)("div",{className:"box",style:{transform:"translate(".concat(H.x,"px, ").concat(H.y,"px)"),width:H.w,height:H.h}},"endBox")]}),Object(w.jsx)("div",{children:f&&it.map((function(t){return Object(w.jsx)(j,{x1:t.start.x,y1:t.start.y,x2:t.end.x,y2:t.end.y,color:t.isUsable?st===t.id?"hsl(37deg, 87%, 68%)":"hsl(138deg, 83%, 79%)":"hsl(350deg, 100%, 77%)",strokeWidth:st===t.id?6:3,zIndex:st===t.id?1:0},t.id)}))}),g&&Object(w.jsx)(v,{arrowDescriptor:m===b.BoxToBox?K:G,color:"rgb(53, 47, 43)",zIndex:1})]})};r.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(m,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.18bfabdf.chunk.js.map